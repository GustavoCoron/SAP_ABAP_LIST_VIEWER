REPORT z_alv_mf_ggcg.

INCLUDE:  z_alv_mf_ggcg_top, "Contiene todas las variables
          z_alv_mf_ggcg_se1, "Contiene las pantallas de seleccion
          z_alv_mf_ggcg_f01. "Contiene la logica del programa

START-OF-SELECTION.

***********************Se declaran las subrutinas***********************************************
  PERFORM get_data.         "Subrutina que obtiene la informacion

  IF p_list EQ abap_true OR p_grid EQ abap_true.
    PERFORM build_field_cat.  "Subrutina que genera el catalogo de campos
  ELSE.
    PERFORM build_fieldcat_hier USING sy-repid
                                      'GT_HEADER'
                                      'SPFLI'
                                      CHANGING gt_fieldcat_hier.
    PERFORM build_fieldcat_hier USING sy-repid
                                      'GT_ITEMS'
                                      'SFLIGHT'
                                      CHANGING gt_fieldcat_hier.
  ENDIF.

  PERFORM build_layout.
  PERFORM add_events.

  CASE abap_true.
    WHEN p_list.
      PERFORM display_alv_list.
    WHEN p_grid.
      PERFORM displar_alv_grid.
    WHEN p_hier.

  ENDCASE.
